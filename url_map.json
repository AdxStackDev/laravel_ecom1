{
  "base_url": "http://localhost:8000/api",
  "authentication": {
    "type": "bearer",
    "required_for_most_endpoints": true,
    "obtaining_token": {
      "register": {
        "method": "POST",
        "url": "http://localhost:8000/api/register",
        "body": {
          "encoding": ["form-data", "x-www-form-urlencoded"],
          "fields": {
            "name": { "type": "string", "required": true },
            "email": { "type": "string", "format": "email", "required": true },
            "password": { "type": "string", "minLength": 8, "required": true }
          }
        },
        "response_example": {
          "user": {
            "id": 1,
            "name": "Your Name",
            "email": "your.email@example.com"
          },
          "token": "1|abcdefghijklmnopqrstuvwxyz123456"
        }
      },
      "login": {
        "method": "POST",
        "url": "http://localhost:8000/api/login",
        "body": {
          "encoding": ["form-data", "x-www-form-urlencoded"],
          "fields": {
            "email": { "type": "string", "format": "email", "required": true },
            "password": { "type": "string", "required": true }
          }
        },
        "response_notes": "Returns user object and a new API token."
      },
      "seeded_admin_user": {
        "email": "admin@example.com",
        "password": "password",
        "note": "Created by database seeder for quick testing."
      }
    },
    "usage": {
      "headers": {
        "Authorization": "Bearer <token>"
      },
      "instructions": "Set Authorization type to Bearer Token and paste the token."
    }
  },
  "endpoints": [
    {
      "group": "Users",
      "items": [
        {
          "name": "List All Users",
          "method": "GET",
          "url": "http://localhost:8000/api/users",
          "auth_required": true,
          "roles_allowed": ["admin"]
        },
        {
          "name": "Show User",
          "method": "GET",
          "url": "http://localhost:8000/api/users/{USER_ID}",
          "auth_required": true,
          "roles_allowed": ["admin", "owner"],
          "path_params": {
            "USER_ID": { "type": "integer", "example": 2 }
          }
        },
        {
          "name": "Update User",
          "method": "PUT",
          "url": "http://localhost:8000/api/users/{USER_ID}",
          "auth_required": true,
          "roles_allowed": ["admin", "owner"],
          "path_params": {
            "USER_ID": { "type": "integer" }
          },
          "body": {
            "encoding": ["x-www-form-urlencoded"],
            "fields": {
              "name": { "type": "string", "required": false },
              "email": { "type": "string", "format": "email", "required": false }
            }
          }
        },
        {
          "name": "Delete User",
          "method": "DELETE",
          "url": "http://localhost:8000/api/users/{USER_ID}",
          "auth_required": true,
          "roles_allowed": ["admin", "owner"],
          "path_params": {
            "USER_ID": { "type": "integer" }
          }
        }
      ]
    },
    {
      "group": "Products v1",
      "prefix": "/v1",
      "items": [
        {
          "name": "List Products",
          "method": "GET",
          "url": "http://localhost:8000/api/v1/products",
          "auth_required": true,
          "query_params": {
            "per_page": { "type": "integer", "required": false, "example": 10 },
            "category": { "type": "string", "required": false, "example": "Electronics" },
            "price_min": { "type": "number", "required": false, "example": 50 },
            "price_max": { "type": "number", "required": false, "example": 200 }
          },
          "example_request": "http://localhost:8000/api/v1/products?category=Electronics&price_min=100"
        },
        {
          "name": "Create Product",
          "method": "POST",
          "url": "http://localhost:8000/api/v1/products",
          "auth_required": true,
          "roles_allowed": ["admin", "seller"],
          "body": {
            "encoding": ["x-www-form-urlencoded", "form-data"],
            "fields": {
              "name": {
                "type": "string",
                "required": true,
                "example": "My New Gadget"
              },
              "category_id": {
                "type": "integer",
                "required": true,
                "description": "Existing category ID",
                "example": 1
              },
              "price": {
                "type": "number",
                "required": true,
                "example": 199.99
              },
              "stock": {
                "type": "integer",
                "required": true,
                "example": 50
              },
              "description": { "type": "string", "required": false },
              "tag_ids[]": {
                "type": "array",
                "items": { "type": "integer" },
                "required": false,
                "description": "Send multiple tag_ids[] for multiple tags"
              }
            }
          }
        },
        {
          "name": "Show Product",
          "method": "GET",
          "url": "http://localhost:8000/api/v1/products/{PRODUCT_SLUG}",
          "auth_required": true,
          "path_params": {
            "PRODUCT_SLUG": { "type": "string", "example": "my-new-gadget" }
          }
        },
        {
          "name": "Update Product",
          "method": "PUT",
          "url": "http://localhost:8000/api/v1/products/{PRODUCT_SLUG}",
          "auth_required": true,
          "roles_allowed": ["admin", "owner"],
          "path_params": {
            "PRODUCT_SLUG": { "type": "string" }
          },
          "body": {
            "encoding": ["x-www-form-urlencoded"],
            "notes": "Include only fields to update.",
            "fields": {
              "name": {
                "type": "string",
                "required": false,
                "example": "My Updated Gadget"
              },
              "price": {
                "type": "number",
                "required": false,
                "example": 189.99
              }
            }
          }
        },
        {
          "name": "Delete Product",
          "method": "DELETE",
          "url": "http://localhost:8000/api/v1/products/{PRODUCT_SLUG}",
          "auth_required": true,
          "roles_allowed": ["admin", "owner"],
          "path_params": {
            "PRODUCT_SLUG": { "type": "string" }
          }
        }
      ]
    }
  ],
  "notes": [
    "Ensure Laravel local server is running before making requests.",
    "Protected endpoints require Authorization: Bearer <token> header.",
    "Use seeded admin credentials for initial testing."
  ]
}
